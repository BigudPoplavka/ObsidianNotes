[[Инструменты программ для генерации кода]]

Вид программы: 
![[Pasted image 20220407154637.png]]
Или так: 
![[Pasted image 20220407155810.png]]

Объектные коды команд:
![[Pasted image 20220407154718.png]]
![[Pasted image 20220407154758.png]]
 Использованы следующие сокращения:
- reg – трех-битовый указатель регистра;
- sg – двух-битовый указатель сегментного регистра;
- data – непосредственный операнд (8 бит при w=0 и 16 бит при w= 1);  
- addr-high – первый (старший) байт адреса;
- addr-low – левый (младший) байт адреса;
- Бит d – указывает направление потока между операндом 1 и операндом 2.  

В таблицах 8.2 – 8.5 приведены значения битов w, mod и r/m.
![[Pasted image 20220407155144.png]]
![[Pasted image 20220407155308.png]]
В примере d=1 означает, что mod (11) и reg (011) описывают операнд 1, а r/m (000) описывает операнд 2. Так как бит w=1, то размер равен одному слову. Таким образом, команда должна прибавить AX (000) к BХ (011).

Многие команды имеют свои однобайтовые машинные коды:
![[specific_comands_cods.png]]
Рассмотрим команду MOV с однобайтовым непосредственным операндом:
![[Pasted image 20220407172535.png]]
В данном случае первый байт машинного кода указывает на однобайтовый размер (w=0) и на регистр AН (100). Следующая команда MOV содержит непосредственный двухбайтовый операнд:
![[Pasted image 20220407172654.png]]
Первый байт машинного кода указывает на размер в одно слово (w=1) и на регистр AХ (000). Не следует обобщать приведенные примеры, так как указание регистра и бита w может быть в различных позициях кода.

# Байт способа операции
   Байт способа адресации, если он присутствует, занимает второй байт машинного кода и состоит из следующих трех элементов:
   1) mod – 2-битовый код, имеющий значения 11 для ссылки на регистр и 00, 01 и 10 для ссылки на память;  
   2) reg – трехбитовый указатель регистра;  
   3) r/m– трехбитовый указатель регистра или памяти (r–регистр, m– адрес памяти).  

Кроме того, первый байт машинного кода может содержать бит «d», который указывает направление потока между операндом 1 и операндом 2.

Рассмотрим пример сложения содержимого регистра АХ с содержимым регистра BX:
![[Pasted image 20220407195858.png]]
В примере d=1 означает, что mod (11) и reg (011) описывают операнд 1, а r/m (000) описывает операнд 2. Так как бит w=1, то размер равен одному слову. Таким образом, команда должна прибавить AX (000) к BХ (011).  

Второй байт команды в объектном коде указывает большинство способов адресации памяти.


Другие команды:
![[Pasted image 20220407160539.png]]
![[Pasted image 20220407160610.png]]
![[Pasted image 20220407162342.png]]

