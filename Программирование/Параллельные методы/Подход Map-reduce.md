#Параллелизм 

## Архитектура

Наша архитектура построена с использованием двух функций: **_map_** и **_reduce_**. Каждый вычислительный блок отображает входные данные и выполняет начальное уменьшение. Наконец, некоторое централизованное устройство выполняет окончательное уменьшение и возвращает вывод. Это выглядит так:

![[Pasted image 20231219172338.png]]

## Данные

Прежде всего, пары ключ-значение образуют базовую структуру данных в MapReduce. Алгоритм получает набор входных пар ключ / значение и выдает набор пар ключ-значение на выходе. В MapReduce разработчик разрабатывает картограф и редуктор в следующие два этапа.

1. Составление карты (маппинг)
2. Сокращение 

- функция `Map` преобразует входную информацию в набор пар **«ключ-значение»** по какому либо критерию.
- функция `Reduce` принимает эти пары и выполняет определенные операции, такие как **суммирование, подсчет или сортировка.**
## Map

- **Map**: Этот шаг преобразует входные данные в набор пар **«ключ-значение»**. Каждая функция **Map** работает **независимо** и **параллельно** с другими, обрабатывая свою часть входной информации. В результате каждого вызова функции **Map** генерируется набор промежуточных пар «ключ-значение». Промежуточные пары группируются по ключу.
## Reduce

- **Reduce**: На этом шаге происходит работа с данными, **сгруппированными по ключу**, и **преобразование их в набор выходных значений**. **Reduce** работает **после** того, как все функции **Map** **завершили** свою **работу**.
- Она принимает ключ и множество значений, сопоставленных этому ключу, и выдает набор выходных значений (обычно одно значение для каждого уникального ключа).

## Алгоритм

Рабочий процесс можно разделить на три основные стадии: 
1. **Map**
2. **Shuffle and Sort**, 
	Промежуточные пары «ключ-значение», сгенерированные на этапе Map, перетасовываются и сортируются по ключам. Результатом этой фазы являются датасеты, каждый из которых состоит из уникального ключа и всех значений, сопоставленных с этим ключом.
3. **Reduce**. 

## Преимущества

1. **Она масштабируема**: если у нас есть больше данных, единственное, что нам нужно сделать, это добавить больше единиц обработки. Изменение кода не требуется.
2. **Она универсальна**: эта архитектура поддерживает широкий спектр задач, мы можем изменить функционал наших map и reduce так, как захотим.

